目标：
1. 理解闭包的定义
2. 掌握闭包的用法



内容：
1. 闭包定义
闭包（Closure）是一种可以捕获其所在环境中的变量并将其与代码块一起传递的函数。

1.1 语法
|参数| 表达式
其中：
|参数|：定义闭包的参数，类似于函数的参数列表。
表达式：闭包的主体，执行的代码。

1.2 示例
let add = |a, b| a + b;  // 定义一个闭包，接受两个参数并返回它们的和
let result = add(3, 4);  // 调用闭包，结果是 7
在这个示例中，add 是一个闭包，接收两个参数 a 和 b，并返回它们的和。



2. 闭包作用

2.1 什么是外部变量？ 
    外部变量（也称为 捕获的变量）是指在 闭包 中引用的 函数或作用域之外的变量

举例：
 fn main(){
    let x = 5;//外部变量
    let closure = |y| x + y; //闭包捕获外部变量 x 
    
    println!("{}", closure(3));  // 输出: 8
 }
x 是一个外部变量，在闭包定义时，它被捕获并用于闭包内部。

问题： 
1. 什么是闭包内部？  
    闭包内部是闭包的主体部分，包含要执行的代码逻辑。
2. 什么是作用域？
    作用域（Scope）指的是程序中一个变量或函数可以被访问、修改或引用的区域。
3. 作用域由什么决定？
    变量的生命周期 和 可见性 决定。变量在某个作用域内有效，并且在作用域结束时会被销毁。
    举例：
    fn main() {
        let x = 10; // x 在这个作用域内有效
        
        {
            let y = 20;  // y 在这个内部块中有效
            println!("x = {}, y = {}", x, y); // 这里可以访问 x 和 y
        }
        
        // println!("y = {}", y);  // 错误：y 在这个作用域外不可见
        println!("x = {}", x);  // 这里仍然可以访问 x
    }
    在这个例子中：
    x 是在 main 函数的作用域内定义的，在函数内的任何地方都可以访问它。  
    y 只在 y 所在的块 {} 内部有效，当块结束时，y 会被销毁。如果在块外访问 y，会导致编译错误。



2.2 如何捕获外部变量？
方法1： 按引用捕获
当闭包只读取外部变量的值时，Rust 会按引用捕获这些变量。
举例：
fn main() {
    let x = 10;  // 外部变量
    let closure = |y| x + y;  // 闭包按引用捕获外部变量 `x`
    
    println!("{}", closure(5));  // 输出: 15
}






