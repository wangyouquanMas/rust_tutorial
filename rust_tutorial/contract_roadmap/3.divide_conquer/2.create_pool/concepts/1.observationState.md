目标：
1. 理解observationState 账户其池子创建中的作用
2. 掌握生成该账户的方法



内容：
1. 作用
价格查询：其它协议可以查询这个账户获取历史价格数据
TWAP计算： 通过累积tick值和时间戳计算时间加权平均价格

特点：
1） 循环缓冲区: 最多存储100个观察点，超过后循环覆盖
	// Number of ObservationState element
pub const OBSERVATION_NUM: usize = 100;

2） 时间阈值: 只有时间间隔超过15秒才更新，避免频繁更新
pub const OBSERVATION_UPDATE_DURATION_DEFAULT: u32 = 15;
if delta_time < OBSERVATION_UPDATE_DURATION_DEFAULT {
                return;
            }

3） 累积计算: 使用累积tick值，便于计算时间加权平均
4） 链上存储: 所有数据都存储在链上，确保透明性和不可篡改性


1.1 数据结构
#[account(zero_copy(unsafe))]
#[repr(C, packed)]
#[cfg_attr(feature = "client", derive(Debug))]
pub struct ObservationState {
    /// Whether the ObservationState is initialized
    pub initialized: bool,
    /// recent update epoch
    pub recent_epoch: u64,
    /// the most-recently updated index of the observations array
    pub observation_index: u16,
    /// belongs to which pool
    pub pool_id: Pubkey,
    /// observation array
    pub observations: [Observation; OBSERVATION_NUM],
    /// padding for feature update
    pub padding: [u64; 4],
}


/// The element of observations in ObservationState
#[zero_copy(unsafe)]
#[repr(C, packed)]
#[derive(Default, Debug)]
pub struct Observation {
    /// The block timestamp of the observation
    pub block_timestamp: u32,
    /// the cumulative of tick during the duration time
    pub tick_cumulative: i64,
    /// padding for feature update
    pub padding: [u64; 4],
}


2. 掌握生成该账户的方法
    observationSeed := []byte("observation")
    // Derive the observation state PDA using the pool state
	// This matches the getPdaObservationAccount function in JS
	observationStateSeeds := [][]byte{
		observationSeed,
		poolState[:],
	}
	observationState, _, err = aSDK.FindProgramAddress(observationStateSeeds, programID)
	if err != nil {
		return
	}