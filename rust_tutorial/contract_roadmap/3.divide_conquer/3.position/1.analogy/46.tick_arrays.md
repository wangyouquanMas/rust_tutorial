目标：
1. 掌握pool对应的多个tick arrays是如何创建的？ 什么时候创建？


内容：
1. 创建时机
在open position时，如果是第一次添加流动性，会首次创建tickarray. 
如果超过这个添加范围，会创建新的tickarray. 

由于每个tickarray的size限制，它能表示的价格范围有限，如果，当前liquidity添加的价格范围，超过一个tickarray能表示的范围，那么会创建新的tickarray来表示新的范围。 



1.1 tickarray创建方法？ 和 tick index boundaries关系
let tick_array_lower_loader = TickArrayState::get_or_create_tick_array(
    payer.to_account_info(),
    tick_array_lower_loader.to_account_info(),
    system_program.to_account_info(),
    &pool_state_loader,
    tick_array_lower_start_index,
    pool_state.tick_spacing,
)?;

create_or_allocate_account(
    payer.to_account_info(),
    tick_array_account_info,
    system_program.to_account_info(),
    &crate::id(),
    TickArrayState::LEN,
    &[
        TICK_ARRAY_SEED.as_bytes(),
        pool_state_loader.key().as_ref(),
        &tick_array_start_index.to_be_bytes(),
    ],
    &[bump],
)?;

其中tick_array_account创建方法如下：
    let (tick_array_lower, __bump) = Pubkey::find_program_address(
        &[
            TICK_ARRAY_SEED.as_bytes(),
            pool_account_key.to_bytes().as_ref(),
            &tick_array_lower_start_index.to_be_bytes(),
        ],
        &program.id(),
    );
where:
1. pub const TICK_ARRAY_SEED: &str = "tick_array";
2. let tick_array_lower_start_index =
                raydium_amm_v3::states::TickArrayState::get_array_start_index(
                    tick_lower_index,
                    tick_spacing.into(),
                );
2.1 let tick_lower_index = tick_with_spacing(
                tick_math::get_tick_at_sqrt_price(tick_lower_price_x64)?,
                tick_spacing.into(),
            );
2.1.1    // 计算 tickLower/tickUpper
            let tick_lower_price_x64 = price_to_sqrt_price_x64(
                tick_lower_price,
                pool.mint_decimals_0,
                pool.mint_decimals_1,
            );

TickArrayState Data structure :
pub struct TickArrayState {
    pub pool_id: Pubkey,
    pub start_tick_index: i32,
    pub ticks: [TickState; TICK_ARRAY_SIZE_USIZE],
    pub initialized_tick_count: u8,
    // account update recent epoch
    pub recent_epoch: u64,
    // Unused bytes for future upgrades.
    pub padding: [u8; 107],
}