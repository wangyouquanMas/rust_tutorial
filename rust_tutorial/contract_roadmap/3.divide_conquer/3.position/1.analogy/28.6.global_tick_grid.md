目标：
1. 理解什么是global_tick_grid ? 


内容：
1. 定义
- Global tick grid: the integer-indexed lattice of all possible price levels. Every integer tick maps to a sqrt-price via tick_math; only ticks divisible by tick_spacing are valid as position bounds.

- How it’s used:
  - Price-to-tick mapping: tick_math converts between tick and sqrt_price for math and crossing logic.
  - Position alignment: bounds must be multiples of tick_spacing; enforced in tick initialization.
  - Chunking: ticks are grouped into 60-tick “tick arrays.” For any tick_index, get_array_start_index floors it to the array’s start.
  - Navigation: bitmaps mark which tick arrays (and ticks) are initialized to quickly find the next initialized tick/array during swaps.
  - Accounting at boundaries: when crossing a bound tick, liquidity_net applies and fee/reward “outside” snapshots are used to compute inside growth.


1.1 类比
Think of an infinite street with numbered addresses.

- Global tick grid: every integer address on the street.
- tickSpacing: only every N-th address has a door you can use (valid bound ticks).
- Tick arrays: city blocks of 60 doors. A block starts at the nearest lower multiple of 60×tickSpacing.
- Bitmap: a city map marking which blocks have any active doors (initialized tick arrays) so you can jump quickly to the next active block.
- Position: a shop that spans between two doors (lower/upper). Inside that span, the shop’s capacity is “active”.
- modify_position: installing or removing shop capacity. The first time you use a door, you also install a meter there (initializes the tick).
- liquidity_net: the turnstile count at each door—how much capacity gets added or removed when the crowd (price) crosses that door.
- liquidity_gross: total shops that reference that door (how many installed meters there).
- Fee/reward snapshots: the meter’s initial readings captured when the door is first installed, used to compute how much you earned inside the span.


1.2 示例
Global grid (all ticks): …, -3, -2, -1, 0, 1, 2, 3, …

With tickSpacing = 3, valid bound ticks: …, -6, -3, 0, 3, 6, 9, 12, …

Tick arrays (60 ticks per array): ticks_in_array = 60 × tickSpacing.
    Example A: tickSpacing=3 → ticks_in_array=180
