目的：学习掌握 emit！宏的作用与用法


作用：
1.用于发射结构化事件
// emit! 用于发射结构化事件
emit!(ConfigChangeEvent {
    index: amm_config.index,
    owner: ctx.accounts.owner.key(),
    protocol_fee_rate: amm_config.protocol_fee_rate,
    trade_fee_rate: amm_config.trade_fee_rate,
    tick_spacing: amm_config.tick_spacing,
    fund_fee_rate: amm_config.fund_fee_rate,
    fund_owner: amm_config.fund_owner,
});


和msg!【日志消息的区别】
// msg! 用于输出调试日志
msg!("Creating AMM config with index: {}", index);
msg!("Owner: {}", ctx.accounts.owner.key());
msg!("Protocol fee rate: {}", protocol_fee_rate);


存储位置：
emit! 事件存储在 tx.Meta.LogMessages 数组中，具体表现为以 "Program data:" 开头的日志条目。

存储格式：
"Program data: <base64_encoded_event_data>"

Transaction
├── Meta
│   └── LogMessages[]  ← emit! 事件在这里
│       ├── "Program data: <base64_data>"  ← 这是 emit! 事件
│       ├── "Program <id> invoke [1]"      ← 普通程序日志
│       └── "Program <id> success"         ← 普通程序日志


标识符: "Program data:" 字符串
数据格式: Base64 编码的二进制数据
内容结构:
前 8 字节: 事件 discriminator
剩余字节: Borsh 序列化的事件数据


如何解析event事件？
    contract_roadmap/3.divide_conquer/config/concepts/event_decode_flow.png

解析测试代码：
    https://github.com/wangyouquanMas/web3fun-Dex/blob/main/29_Sol_SDK/unit_tests/%E8%8E%B7%E5%8F%96%E4%BA%A4%E6%98%93event%E4%BA%8B%E4%BB%B6_test.go


区块链浏览器中的Program Data 已解析了该数据，只是是以base64编码了
https://solscan.io/tx/3rN1jJbv6YweU3x7ojHfXY3cKYipokfaUe74LHnz6dL82NhKwdMJ2ScFJkH42stsQ3C7KojvbAZVvGcRBPLYhqjw?cluster=devnet#:~:text=%3E%20Program%20data%3A%20970Hd2pwX5cBAOf5/5Qe27L0Z/fD98PbYGXdOwGxrTxPtGpT9u1plQhFsAQAALgLAAA8AAAAAADn%2Bf%2BUHtuy9Gf3w/fD22Bl3TsBsa08T7RqU/btaZUIRQ%3D%3D