内存管理

直接相关于: 堆栈溢出问题
我们在修复中关键步骤是减少栈内存使用，解决错误
  Stack offset of 4400 exceeded max offset of 4096 by 304 bytes

修复方法涉及减少临时变量和优化内存分配方式
